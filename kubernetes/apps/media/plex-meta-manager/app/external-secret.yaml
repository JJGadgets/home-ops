---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: pmm-secret
  namespace: media
spec:
  target:
    deletionPolicy: Delete
    template:
      type: Opaque
      data:
        PLEX_APIKEY: "{{ .plex_token }}"
        TAUTULLI_APIKEY: "{{ .tautulli_token }}"
        TMDB_APIKEY: "{{ .tmdb_token }}"
        OMDB_APIKEY: "{{ .omdb_token }}"
        MDBLIST_APIKEY: "{{ .mdblist_token }}"
        MYANIMELIST_CLIENT_ID: "{{ .myanimelist_client_id }}"
        MYANIMELIST_CLIENT_SECRET: "{{ .myanimelist_client_secret }}"
        MYANIMELIST_LOCALHOST_URL: "{{ .myanimelist_localhost_url }}"
        MYANIMELIST_ACCESS_TOKEN: "{{ .myanimelist_access_token }}"
        MYANIMELIST_EXPIRES_IN: "{{ .myanimelist_expires_in }}"
        MYANIMELIST_REFRESH_TOKEN: "{{ .myanimelist_refresh_token }}"
        RADARR_APIKEY: "{{ .radarr_token }}"
        SONARR_APIKEY : "{{ .sonarr_token }}"
        TRAKT_CLIENT_ID : "{{ .trakt_client_id }}"
        TRAKT_CLIENT_SECRET : "{{ .trakt_client_secret }}"
        TRAKT_ACCESS_TOKEN : "{{ .trakt_client_token }}"
        TRAKT_EXPIRES_IN : "{{ .trakt_expires_in }}"
        TRAKT_REFRESH_TOKEN : "{{ .trakt_refresh_token }}"
        TRAKT_CREATED_AT : "{{ .trakt_created_at }}"
  data:
    - secretKey: plex_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 5f4a73e9-dbaa-47bf-a5f2-ac6e00f706e3
        property: token
    - secretKey: tautulli_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 9be660f2-f018-41fa-91db-afd500dfc709
        property: k8s_token
    - secretKey: tmdb_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 5e1adbab-a65f-49e7-95ab-b04d01087cb
        property: token
    - secretKey: omdb_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: bca00c36-8c3f-42dd-bfea-b04d010aff0e
        property: token
    - secretKey: mdblist_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: dbfd56f9-1e77-465a-b97f-b04d010bdc04
        property: token
    - secretKey: myanimelist_client_id
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: ea00b0d2-8825-4ae1-992f-b04d010cfac2
        property: client_id
    - secretKey: myanimelist_client_secret
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: ea00b0d2-8825-4ae1-992f-b04d010cfac2
        property: client_secret
    - secretKey: myanimelist_localhost_url
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: ea00b0d2-8825-4ae1-992f-b04d010cfac2
        property: localhost_url
    - secretKey: myanimelist_access_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: access_token
    - secretKey: myanimelist_expires_in
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: expires_in
    - secretKey: myanimelist_refresh_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: refresh_token
    - secretKey: radarr_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 33a5fd65-38fb-40d6-b4a6-ac6e00f706e3
        property: token
    - secretKey: sonarr_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: f131edf2-177b-4284-b606-ac6e00f706e3
        property: token
    - secretKey: trakt_client_id
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: client_id
    - secretKey: trakt_client_secret
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: client_secret
    - secretKey: trakt_client_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: client_token
    - secretKey: trakt_expires_in
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: expires_in
    - secretKey: trakt_refresh_token
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: refresh_token
    - secretKey: trakt_created_at
      sourceRef:
        storeRef:
          name: bitwarden-fields
          kind: ClusterSecretStore
      remoteRef:
        key: 788723bb-8d87-428c-96bb-b04d010e7f08
        property: created_at
